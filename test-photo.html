<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ì§„ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="assets/js/script.js"></script>
</head>
<body>
    <div class="container" style="margin-top: 2rem;">
        <h1>ì‚¬ì§„ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸ í˜ì´ì§€</h1>
        
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">í…ŒìŠ¤íŠ¸ ì‚¬ì§„ 1</h2>
            </div>
            <div class="card-body">
                <div class="photo-upload" onclick="handlePhotoClick('testInput1')">
                    <input type="file" id="testInput1" accept="image/*" 
                           onchange="previewImage(this, 'testPhoto1')" style="display: none;">
                    <img id="testPhoto1" style="display:none;">
                    <span class="placeholder">ğŸ“· ì‚¬ì§„ 1 ì—…ë¡œë“œ (í´ë¦­)</span>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">í…ŒìŠ¤íŠ¸ ì‚¬ì§„ 2</h2>
            </div>
            <div class="card-body">
                <div class="photo-upload" onclick="handlePhotoClick('testInput2')">
                    <input type="file" id="testInput2" accept="image/*" 
                           onchange="previewImage(this, 'testPhoto2')" style="display: none;">
                    <img id="testPhoto2" style="display:none;">
                    <span class="placeholder">ğŸ“· ì‚¬ì§„ 2 ì—…ë¡œë“œ (í´ë¦­)</span>
                </div>
            </div>
        </div>
        
        <button class="btn btn-info" onclick="checkPhotos()">ì €ì¥ëœ ì‚¬ì§„ í™•ì¸</button>
    </div>
    
    <script>
        function handlePhotoClick(inputId) {
            console.log('=== handlePhotoClick í˜¸ì¶œ ===');
            console.log('inputId:', inputId);
            
            const input = document.getElementById(inputId);
            console.log('input ìš”ì†Œ:', input);
            
            if (input) {
                console.log('input.click() ì‹¤í–‰');
                input.click();
            } else {
                console.error('input ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', inputId);
            }
        }
        
        function checkPhotos() {
            const photos = getFromStorage(STORAGE_KEYS.PHOTOS);
            console.log('ì €ì¥ëœ ì‚¬ì§„:', photos);
            
            if (photos) {
                alert('ì €ì¥ëœ ì‚¬ì§„ ê°œìˆ˜: ' + Object.keys(photos).length + '\n\n' + 
                      Object.keys(photos).join('\n'));
            } else {
                alert('ì €ì¥ëœ ì‚¬ì§„ì´ ì—†ìŠµë‹ˆë‹¤.');
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');
            
            // ì €ì¥ëœ ì´ë¯¸ì§€ ë¡œë“œ
            setTimeout(function() {
                loadSavedImage('testPhoto1');
                loadSavedImage('testPhoto2');
            }, 100);
        });
    </script>
</body>
</html>
